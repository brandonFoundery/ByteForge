{
  "screen": "PipelineBoard",
  "meta": {
    "layout": "kanban",
    "variant": "desktop",
    "screenSize": "1440x900",
    "framework": "React + TypeScript",
    "styling": "Tailwind CSS"
  },
  "regions": {
    "sidebar": {
      "type": "vertical-nav",
      "width": 72,
      "collapsed": true,
      "items": [
        { "id": "logo", "type": "brand", "icon": "company-logo" },
        { "id": "deals", "type": "nav-item", "icon": "kanban-board", "label": "Pipeline", "active": true },
        { "id": "leads", "type": "nav-item", "icon": "inbox", "label": "Leads" },
        { "id": "activities", "type": "nav-item", "icon": "calendar", "label": "Activities" },
        { "id": "insights", "type": "nav-item", "icon": "chart-bar", "label": "Insights" },
        { "id": "settings", "type": "nav-item", "icon": "cog", "label": "Settings" }
      ]
    },
    "header": {
      "type": "top-bar",
      "height": 56,
      "background": "bg-white border-b border-gray-200",
      "elements": [
        { 
          "id": "pipeline-selector", 
          "type": "dropdown", 
          "label": "Sales Pipeline",
          "options": ["Sales Pipeline", "Partner Pipeline", "Renewal Pipeline"]
        },
        { 
          "id": "search", 
          "type": "search-input", 
          "placeholder": "Search deals, contacts, organizations...",
          "width": "400px"
        },
        { 
          "id": "filters", 
          "type": "button-group",
          "buttons": [
            { "id": "filter-broker", "label": "My Deals", "type": "toggle" },
            { "id": "filter-value", "label": "High Value", "type": "toggle" },
            { "id": "filter-overdue", "label": "Overdue", "type": "toggle" }
          ]
        },
        { 
          "id": "add-deal", 
          "type": "button", 
          "style": "primary", 
          "label": "+ Deal",
          "action": "openDealModal"
        }
      ]
    },
    "board": {
      "type": "kanban",
      "className": "flex-1 overflow-x-auto p-6",
      "columns": [
        { 
          "id": "qualified", 
          "title": "Qualified", 
          "color": "#E8F4FF",
          "count": 12,
          "totalValue": "$145,000"
        },
        { 
          "id": "contact_made", 
          "title": "Contact Made", 
          "color": "#F5F9FF",
          "count": 8,
          "totalValue": "$89,500"
        },
        { 
          "id": "demo_scheduled", 
          "title": "Demo Scheduled", 
          "color": "#FFF4F4",
          "count": 5,
          "totalValue": "$67,200"
        },
        { 
          "id": "negotiation", 
          "title": "Negotiation", 
          "color": "#FFF9E5",
          "count": 3,
          "totalValue": "$125,000"
        },
        { 
          "id": "won", 
          "title": "Won", 
          "color": "#E7F9ED",
          "count": 2,
          "totalValue": "$45,000"
        }
      ],
      "cardTemplate": {
        "width": "280px",
        "className": "bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-3 cursor-pointer hover:shadow-md transition-shadow",
        "fields": [
          { 
            "key": "deal_title", 
            "type": "text", 
            "className": "font-semibold text-gray-900 text-sm mb-1",
            "editable": true
          },
          { 
            "key": "org_name", 
            "type": "text", 
            "className": "text-gray-600 text-xs mb-2",
            "prefix": "üìç"
          },
          { 
            "key": "value", 
            "type": "currency", 
            "className": "text-lg font-bold text-green-600 mb-2",
            "editable": true,
            "format": "$#,##0"
          },
          { 
            "key": "ai_score", 
            "type": "badge", 
            "className": "inline-block px-2 py-1 rounded-full text-xs font-medium mb-2",
            "colorScale": {
              "0-30": "bg-red-100 text-red-800",
              "31-60": "bg-yellow-100 text-yellow-800", 
              "61-100": "bg-green-100 text-green-800"
            },
            "format": "#% likely"
          },
          { 
            "key": "next_activity", 
            "type": "icon+text", 
            "icon": "calendar",
            "className": "flex items-center text-xs text-gray-500",
            "format": "üìÖ {date} - {activity}"
          }
        ],
        "badges": [
          {
            "key": "overdue",
            "condition": "next_activity.date < today",
            "className": "absolute top-2 right-2 w-3 h-3 bg-red-500 rounded-full"
          },
          {
            "key": "hot",
            "condition": "ai_score > 80",
            "className": "absolute top-2 right-6 text-orange-500",
            "icon": "üî•"
          }
        ],
        "actions": [
          { "type": "click", "action": "openDealDetails" },
          { "type": "drag", "action": "moveDealStage" },
          { "type": "doubleClick", "action": "editDealInline" }
        ]
      }
    },
    "dealModal": {
      "type": "modal",
      "width": "600px",
      "sections": [
        {
          "title": "Deal Information",
          "fields": [
            { "key": "title", "type": "text", "label": "Deal Title", "required": true },
            { "key": "organization", "type": "select", "label": "Organization", "searchable": true },
            { "key": "contact", "type": "select", "label": "Primary Contact", "searchable": true },
            { "key": "value", "type": "currency", "label": "Deal Value" },
            { "key": "expected_close", "type": "date", "label": "Expected Close Date" },
            { "key": "stage", "type": "select", "label": "Stage", "options": "pipeline.stages" }
          ]
        },
        {
          "title": "Assignment & Tracking",
          "fields": [
            { "key": "assigned_broker", "type": "user-select", "label": "Assigned Broker" },
            { "key": "source", "type": "select", "label": "Deal Source", "options": ["Website", "Referral", "Cold Call", "Trade Show"] },
            { "key": "tags", "type": "multi-select", "label": "Tags" }
          ]
        }
      ],
      "actions": [
        { "type": "button", "label": "Cancel", "style": "secondary" },
        { "type": "button", "label": "Save Deal", "style": "primary", "action": "saveDeal" }
      ]
    }
  },
  "interactions": {
    "dragAndDrop": {
      "enabled": true,
      "animation": "smooth",
      "feedback": "visual-placeholder",
      "constraints": ["same-pipeline", "valid-stage-progression"]
    },
    "realTimeUpdates": {
      "enabled": true,
      "method": "websocket",
      "events": ["deal-moved", "deal-updated", "deal-created", "deal-deleted"]
    },
    "keyboardShortcuts": [
      { "key": "n", "action": "newDeal", "description": "Create new deal" },
      { "key": "/", "action": "focusSearch", "description": "Focus search" },
      { "key": "f", "action": "toggleFilters", "description": "Toggle filters" }
    ]
  },
  "responsive": {
    "tablet": {
      "sidebar": { "width": 60, "collapsed": true },
      "board": { "columns": "scroll-horizontal" }
    },
    "mobile": {
      "sidebar": { "type": "bottom-nav" },
      "board": { "type": "list-view" },
      "header": { "simplified": true }
    }
  }
}